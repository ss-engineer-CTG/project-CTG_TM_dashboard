exports.id=150,exports.ids=[150],exports.modules={7423:(e,t,r)=>{Promise.resolve().then(r.bind(r,5689))},1595:(e,t,r)=>{Promise.resolve().then(r.bind(r,4594))},2976:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3579,23)),Promise.resolve().then(r.t.bind(r,619,23)),Promise.resolve().then(r.t.bind(r,1459,23)),Promise.resolve().then(r.t.bind(r,3456,23)),Promise.resolve().then(r.t.bind(r,847,23)),Promise.resolve().then(r.t.bind(r,7303,23))},2765:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,7490,23))},5303:()=>{},1780:(e,t,r)=>{"use strict";r.d(t,{g:()=>l,h:()=>d});var s=r(3854),n=r(4218),a=r(8601),i=r(9585),o=r(2747);let c=(0,n.createContext)(void 0),l=({children:e})=>{let[t,r]=(0,n.useState)({connected:!1,loading:!0,message:"API接続確認中...",lastChecked:null}),[l,d]=(0,n.useState)(0),{addNotification:u}=(0,i.l)(),h=(0,n.useCallback)(async(e=0)=>{if(!o.C5)return!1;r(e=>({...e,loading:!0})),e>0&&await new Promise(t=>setTimeout(t,e));try{let e=await (0,a.ce)();return r({connected:e.success,loading:!1,message:e.message,lastChecked:new Date,details:e.details}),e.success?(l>0&&u("バックエンドサーバーへの接続が回復しました","success"),d(0)):(d(e=>e+1),u(e.message,"error")),e.success}catch(e){return console.error("API接続確認エラー:",e),r({connected:!1,loading:!1,message:`API接続エラー: ${e.message}`,lastChecked:new Date}),d(e=>e+1),u("APIサーバーへの接続に失敗しました","error"),!1}},[u,l]);return(0,n.useEffect)(()=>{let e=!0;if(!o.C5)return;let t=async()=>{if(await h(),e){let t=setInterval(()=>{h()},3e5);return()=>{clearInterval(t),e=!1}}};return t(),()=>{e=!1}},[h]),s.jsx(c.Provider,{value:{status:t,reconnectAttempts:l,checkConnection:h},children:e})},d=()=>{let e=(0,n.useContext)(c);if(void 0===e)throw Error("useApi must be used within an ApiProvider");return e}},9585:(e,t,r)=>{"use strict";r.d(t,{J:()=>o,l:()=>c});var s=r(3854),n=r(4218),a=r(8506);let i=(0,n.createContext)(void 0),o=({children:e})=>{let[t,r]=(0,n.useState)([]),o=(0,n.useRef)({}),c=(0,n.useCallback)((e,t="info",s=3e3)=>{let n=(0,a.Z)();r(r=>[...r,{id:n,message:e,type:t,duration:s}]),s>0&&(o.current[n]=setTimeout(()=>{l(n),delete o.current[n]},s))},[]),l=(0,n.useCallback)(e=>{r(t=>t.filter(t=>t.id!==e)),o.current[e]&&(clearTimeout(o.current[e]),delete o.current[e])},[]);return s.jsx(i.Provider,{value:{notifications:t,addNotification:c,removeNotification:l},children:e})},c=()=>{let e=(0,n.useContext)(i);if(void 0===e)throw Error("useNotification must be used within a NotificationProvider");return e}},5689:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Error});var s=r(3854),n=r(4218);function Error({error:e,reset:t}){return(0,n.useEffect)(()=>{console.error("アプリケーションエラー:",e)},[e]),s.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"dashboard-card max-w-lg w-full text-center",children:[s.jsx("h2",{className:"text-status-danger text-xl font-bold mb-4",children:"エラーが発生しました"}),s.jsx("p",{className:"text-text-secondary mb-4",children:"アプリケーションで予期しないエラーが発生しました。"}),(0,s.jsxs)("div",{className:"bg-surface rounded p-4 mb-6 text-left",children:[s.jsx("p",{className:"text-text-secondary truncate",children:e.message}),e.digest&&(0,s.jsxs)("p",{className:"text-text-secondary text-xs mt-2",children:["エラー参照: ",e.digest]})]}),(0,s.jsxs)("div",{className:"flex justify-center gap-4",children:[s.jsx("button",{onClick:()=>window.location.href="/",className:"bg-surface text-text-accent px-4 py-2 rounded border border-text-accent text-sm hover:bg-text-accent hover:text-surface transition-colors",children:"ホームに戻る"}),s.jsx("button",{onClick:()=>t(),className:"bg-text-accent text-surface px-4 py-2 rounded text-sm hover:bg-opacity-80 transition-colors",children:"再試行"})]})]})})}},2417:(e,t,r)=>{},8601:(e,t,r)=>{"use strict";r.d(t,{ce:()=>o,qN:()=>l});var s=r(2417),n=r(2747);let a=async()=>{if(!n.C5)return null;if(console.log("APIポート自動検出を開始"),(0,n.yv)())try{let e=await window.electron.getApiBaseUrl();if(e){let t=new URL(e),r=parseInt(t.port,10);if(!isNaN(r)&&await i(r))return console.log(`Electronから検出したポート: ${r}`),r}}catch(e){console.warn("Electronからのポート検出エラー:",e)}try{let e=localStorage.getItem("api_port");if(e){let t=parseInt(e,10);if(!isNaN(t)&&await i(t))return console.log(`以前保存されたポートを使用: ${t}`),t}}catch(e){console.warn("ローカルストレージからの読み取りエラー:",e)}let e=[8e3,8080,8888,8081,8001,3001,5e3];for(let t of(console.log(`候補ポートを順次チェック: ${e.join(", ")}`),e))if(console.log(`ポート ${t} をチェック中...`),await i(t)){console.log(`アクティブなAPIポートを検出: ${t}`);try{localStorage.setItem("api_port",t.toString())}catch(e){console.warn("ポート情報のローカルストレージ保存に失敗:",e)}return t}return console.error("アクティブなAPIポートが見つかりませんでした"),null},i=async e=>{if(!n.C5)return!1;try{let t=new AbortController,r=setTimeout(()=>t.abort(),2e3),s=await fetch(`http://127.0.0.1:${e}/api/health`,{method:"HEAD",headers:{Accept:"application/json"},signal:t.signal});return clearTimeout(r),s.status>=200&&s.status<300}catch(e){return!1}},o=async(e=2)=>{if(!n.C5)return{success:!1,message:"クライアント側でのみ使用可能な機能です"};console.log(`API接続テスト開始 (最大試行回数: ${e})`);let t=await a();if(!t)return{success:!1,message:"バックエンドサーバーに接続できません。サーバーが起動しているか確認してください。",details:{error:"No active API port detected",attemptsMade:1}};try{s.apiClient.setBaseUrl(`http://127.0.0.1:${t}/api`),(0,n.XQ)(t);let e=await s.apiClient.get("/health");return(0,n.d5)(!0),{success:!0,message:`APIサーバーに接続しました (ポート: ${t})`,port:t,details:e}}catch(e){return console.warn(`ポート ${t} は検出されましたが、健全性チェックに失敗しました:`,e),{success:!0,message:`APIサーバーを検出しました (ポート: ${t})`,port:t,details:{warning:"健全性チェックに失敗しましたが、APIは検出されました",error:e.message}}}},c=null,l=async()=>!!n.C5&&(c||(c=new Promise(async e=>{try{if((0,n.DA)()){e(!0);return}let t=await o();(0,n.d5)(t.success),e(t.success)}catch(t){console.error("API初期化エラー:",t),(0,n.d5)(!1),e(!1)}})),c)},2747:(e,t,r)=>{"use strict";r.d(t,{C5:()=>s,DA:()=>i,XQ:()=>c,d5:()=>o,yv:()=>n});let s=!1,n=()=>{if(!s)return!1;let e=s&&!1;return console.log("isElectronEnvironment 検出結果:",e,{isClient:s,windowDefined:!1,electronDefined:!1,electronProperties:[]}),e},a=!1,i=()=>!!s&&(a||!!window.apiInitialized),o=e=>{a=e,s&&(window.apiInitialized=e)},c=e=>{s&&(window.currentApiPort=e)}},4594:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Providers:()=>u});var s=r(3854),n=r(4218),a=r.n(n),i=r(4206),o=r(1780),c=r(9585);let l=()=>{let{notifications:e,removeNotification:t}=(0,c.l)();return((0,n.useEffect)(()=>{let r=e.map(e=>{if(e.duration){let r=setTimeout(()=>{t(e.id)},e.duration);return()=>clearTimeout(r)}return()=>{}});return()=>{r.forEach(e=>e())}},[e,t]),0===e.length)?null:s.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:e.map(e=>(0,s.jsxs)("div",{className:`notification notification-${e.type} flex items-center`,children:[s.jsx("span",{className:"mr-3",children:e.message}),s.jsx("button",{onClick:()=>t(e.id),className:"text-white hover:text-gray-200 focus:outline-none",children:"✕"})]},e.id))})};class d extends n.Component{constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null})},this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("エラーバウンダリでエラーをキャッチしました:",e),console.error("コンポーネントスタック:",t.componentStack)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,s.jsxs)("div",{className:"p-4 bg-red-900 bg-opacity-20 rounded",children:[s.jsx("h3",{className:"text-red-400 font-medium mb-2",children:"エラーが発生しました"}),(0,s.jsxs)("div",{className:"text-white mb-4",children:[s.jsx("p",{children:"アプリケーションで予期しないエラーが発生しました。"}),this.state.error&&s.jsx("div",{className:"mt-2 p-2 bg-gray-800 rounded text-sm",children:s.jsx("p",{children:this.state.error.message})})]}),s.jsx("button",{onClick:this.handleReset,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm transition-colors",children:"再試行"})]}):this.props.children}}function u({children:e}){let[t]=a().useState(()=>new i.QueryClient({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}})),[r,u]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{u(!0)},[]),r)?s.jsx(i.QueryClientProvider,{client:t,children:(0,s.jsxs)(c.J,{children:[s.jsx(d,{children:s.jsx(o.g,{children:e})}),s.jsx(l,{})]})}):s.jsx("div",{children:"Loading..."})}},8196:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>c});var s=r(5153);let n=(0,s.createProxy)(String.raw`C:\Users\gbrai\Documents\Projects\project-dashboard_ctg\frontend\app\error.tsx`),{__esModule:a,$$typeof:i}=n,o=n.default,c=o},7897:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h,metadata:()=>u});var s=r(4656),n=r(2999),a=r.n(n);r(7272);var i=r(5153);let o=(0,i.createProxy)(String.raw`C:\Users\gbrai\Documents\Projects\project-dashboard_ctg\frontend\app\providers.tsx`),{__esModule:c,$$typeof:l}=o;o.default;let d=(0,i.createProxy)(String.raw`C:\Users\gbrai\Documents\Projects\project-dashboard_ctg\frontend\app\providers.tsx#Providers`),u={title:"プロジェクト進捗ダッシュボード",description:"プロジェクト管理ダッシュボードアプリケーション"};function h({children:e}){return s.jsx("html",{lang:"ja",children:s.jsx("body",{className:a().className,children:s.jsx(d,{children:e})})})}},8734:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(4656);function n(){return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,s.jsxs)("div",{className:"dashboard-card p-8 flex flex-col items-center",children:[s.jsx("div",{className:"mb-4 text-text-primary text-lg",children:"ダッシュボードを読み込み中..."}),s.jsx("div",{className:"relative w-16 h-16",children:s.jsx("div",{className:"absolute top-0 left-0 w-full h-full border-4 border-text-accent border-t-transparent rounded-full animate-spin"})})]})})}r(3542)},4293:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(4656);r(3542);var n=r(4353),a=r.n(n);function i(){return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"dashboard-card max-w-lg w-full text-center",children:[s.jsx("h2",{className:"text-text-primary text-xl font-bold mb-4",children:"ページが見つかりません"}),s.jsx("p",{className:"text-text-secondary mb-6",children:"お探しのページは存在しないか、移動された可能性があります。"}),s.jsx(a(),{href:"/",className:"bg-text-accent text-surface px-4 py-2 rounded text-sm hover:bg-opacity-80 transition-colors",children:"ダッシュボードに戻る"})]})})}},7272:()=>{}};